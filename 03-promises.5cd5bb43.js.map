{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAOC,SAASC,cAAc,QAC9BC,OAASF,SAASC,cAAc,UAChCE,WAAaH,SAASC,cAAc,kBACpCG,KAAOJ,SAASC,cAAc,iBAC9BI,OAASL,SAASC,cAAc,oBAuClC,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAUtC,OATgB,IAAIC,SAAQ,SAACC,EAASC,GACpCC,YAAW,WACNN,EACDI,EAAQ,CAACN,WAASC,UAElBM,EAAO,CAACP,WAAUC,S,GAEnBA,E,IA3CPV,EAAKI,OAAOc,iBAAiB,SAI7B,SAAkBC,GAChBA,EAAEC,iBAMF,IALA,IAAMf,EAAaL,EAAKK,WAAWgB,MAC7Bf,EAAON,EAAKM,KAAKe,MACjBd,EAASP,EAAKO,OAAOc,MACvBC,EAAQ,EAEJC,EAAI,EAAGA,GAAKhB,EAAQgB,IAAI,CAS9Bf,EARiBe,EAGfD,GADQ,IAANC,EACOlB,EAEAC,GAIRkB,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUC,EAAKe,EAALf,MACjBgB,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,M,IAGvEoB,OAAM,SAAAL,G,IAAGhB,EAAQgB,EAARhB,SAAUC,EAAKe,EAALf,MAClBgB,EAAA5B,GAAS6B,OAAOI,QAAQ,sBAAqCF,OAAfpB,EAAS,QAAYoB,OAANnB,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form : document.querySelector('form'),\n  button : document.querySelector('button'),\n  deleyInput : document.querySelector('[name = delay]'),\n  step : document.querySelector('[name = step]'),\n  amount : document.querySelector('[name = amount]')\n}\n\n\n\nrefs.button.addEventListener('click',onSubmit);\n\n\n\nfunction onSubmit(e){\n  e.preventDefault();\n  const deleyInput = refs.deleyInput.value;\n  const step = refs.step.value;\n  const amount = refs.amount.value;\n  let delay = 0;\n\n  for(let i = 1; i <= amount; i++){\n    const position = i;\n\n    if((i === 1)){\n      delay += deleyInput;\n    }else{\n      delay += step;\n    }\n   \n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n        \n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      });\n\n  }\n\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() =>{\n      if(shouldResolve){\n        resolve({position,delay});\n      }else{\n        reject({position, delay});\n      }\n    }, delay)\n  })\n  return promise;\n}\n\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","button","deleyInput","step","amount","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","value","delay1","i","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.5cd5bb43.js.map"}