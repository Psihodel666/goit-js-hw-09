{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAOC,SAASC,cAAc,QAC9BC,OAASF,SAASC,cAAc,UAChCE,UAAYH,SAASC,cAAc,kBACnCG,KAAOJ,SAASC,cAAc,iBAC9BI,OAASL,SAASC,cAAc,oBA0BlC,SAASK,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAS,CAACC,EAASC,KAE5BC,YAAY,KACJN,EACAI,EAAQ,C,SAACN,E,MAAUC,IAGnBM,EAAO,C,SAACP,E,MAAUC,GAAO,GAE9BA,EAAM,G,CAhCbV,EAAKI,OAAOc,iBAAiB,SAI7B,SAAkBC,GAChBA,EAAIC,iBACJ,MAAMf,EAAYgB,OAAOrB,EAAKK,UAAUiB,OAClChB,EAAOe,OAAOrB,EAAKM,KAAKgB,OACxBf,EAASc,OAAOrB,EAAKO,OAAOe,OAClC,IAAIC,EAAQlB,EAEZ,IAAK,IAAImB,EAAW,EAAGA,GAAYjB,EAAQiB,GAAY,EAErDhB,EAAcgB,EAAUD,GACrBE,MAAK,EAAChB,SAAEA,EAAQC,MAAEA,KAAYgB,EAAA5B,GAAS6B,OAAOC,QAAQ,uBAAqBnB,QAAiBC,SAAYmB,OACtG,EAAKpB,WAAUC,WAAcgB,EAAA5B,GAAQ6B,OAACG,QAAO,sBAASrB,QAA8BC,SACzFa,GAASjB,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form : document.querySelector('form'),\n  button : document.querySelector('button'),\n  firstStep : document.querySelector('[name = delay]'),\n  step : document.querySelector('[name = step]'),\n  amount : document.querySelector('[name = amount]')\n}\n\n\n\nrefs.button.addEventListener('click',onSubmit);\n\n\n\nfunction onSubmit(eve) {\n  eve.preventDefault();\n  const firstStep = Number(refs.firstStep.value);\n  const step = Number(refs.step.value);\n  const amount = Number(refs.amount.value);\n  let delay = firstStep;\n  \n  for (let position = 1; position <= amount; position += 1) {\n    \n    createPromise(position, delay)\n      .then(({ position, delay }) => Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`))\n      .catch(({ position, delay }) => Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`))\n    delay += step;\n  }\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise ((resolve, reject) => {\n    \n    setTimeout (() => {\n        if (shouldResolve) {\n            resolve({position, delay})\n        }\n        else {\n            reject({position, delay});\n        }\n    }, delay);\n  });\n};\n\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","button","firstStep","step","amount","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","eve","preventDefault","Number","value","delay1","position1","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.a1d3106a.js.map"}